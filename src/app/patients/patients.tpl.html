<h1 class="page-header text-center white">
  Patients
</h1>

<div class="panel panel-body">
  <div class="form-inline" id="filter">
    <label>Filter:</label>
    <input ng-model="lastName" ng-change="search()" class="form-control" placeholder="Last name">
  </div>

  <table class="table table-striped">
    <thead>
      <th>Name</th>
      <th>Sex</th>
      <th>Birthdate</th>
      <th>Phone</th>
      <th>Meditations (#)</th>
      <th>Total Meditation Time (m)</th>
      <th>Creator</th>
    </thead>
    <tbody>
      <tr ng-repeat="patient in patients">
        <td>
          <a href class="name" ui-sref="patients.detail.medications({id: patient.id})">{{ patient.first_name }} {{ patient.last_name }}</a>
        </td>
        <td>{{ patient.sex | capitalize }}</td>
        <td>{{ patient.birthdate | amParse: 'YYYY-MM-DD' | amDateFormat: 'M/D/YYYY' }}</td>
        <td>{{ patient.phone }}</td>
        <td>{{ patient.meditations.count }}</td>
        <td>{{ patient.meditations.sum }}</td>
        <td>{{ patient.creator }}</td>
      </tr>
    </tbody>
  </table>

  <div class="text-center">
    <pagination
      total-items="patientsCount"
      ng-model="currentPage"
      max-size="5"
      items-per-page="patientsPerPage"
      class="pagination-sm"
    ></pagination>
  </div>
</div>
